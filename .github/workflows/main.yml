name: CI-CD 
on: 
  push: 
    branches: ["main"] 
  workflow_dispatch: 

jobs: 
  CI: 
    runs-on: ubuntu-latest 
    steps:
      - name: Obter codigo 
        uses: actions/checkout@v4.2.2 
      - name: Login to Docker Hub
        uses: docker/login-action@v3
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }} 
          password: ${{ secrets.DOCKERHUB_TOKEN }} 
          
      - run: echo "Executar o Docker Build" 
      - run: echo "Enviar a imagem Docker para o Docker Hub" 

  CD:  
    needs: [CI] 
    runs-on: ubuntu-latest 
    steps: 
      - name: Obter codigo 
        uses: actions/checkout@v4.2.2 
      - run: echo "Configurar o kubeconfig" 
      - run: echo "Executar o apply" 
